#!/bin/bash
echo 'Deprecated - this script is going to get removed in a few days.'
exit 1

#basic stuff
    pushd $dir >/dev/null
    echo 'Updating git submodules...'
    git submodule init
    git submodule update
    popd >/dev/null

#python
    if $cygwin; then
        install_cygwin python
        install_cygwin python3
    elif $linux; then
        install_pacman python
        install_pacman python-pip
    fi

#vim
    if $cygwin; then
        install_cygwin vim
    elif $linux_gfx; then
        install_pacman gvim
    else
        install_pacman vim
    fi
    if has_installed vim; then
        create_folder "$HOME/.vim/undo"
        create_folder "$HOME/.vim/backup"
        create_folder "$HOME/.vim/swap"
        create_folder "$HOME/.vim/spell"
        install_link "$dir/.vim/spell/pl.utf-8.add" "$HOME/.vim/spell/pl.utf-8.add"
        install_link "$dir/.vim/spell/en.utf-8.add" "$HOME/.vim/spell/en.utf-8.add"
        install_link "$dir/.vim/vundle" "$HOME/.vim/vundle"
        install_link "$dir/.vimrc" "$HOME/.vimrc"
    fi

#zsh
    if $cygwin; then
        install_cygwin zsh
    elif $linux; then
        install_pacman zsh
    fi
    if has_installed zsh; then
        install_link "$dir/.zshrc" "$HOME/.zshrc"
    fi

#terminal emulators
    if has_installed mintty; then
        install_link "$dir/.inputrc" "$HOME/.inputrc"
        install_link "$dir/.minttyrc-light" "$HOME/.minttyrc"
    fi

#translator
    install_link "$dir/ext/translator/tl" "$dir/bin/ext/tl"

#windows
    if $cygwin; then
        echo "Hiding dotfiles in $HOME..."
        find "$HOME" -maxdepth 1 -iname '.*' | while read -r x; do
            attrib +h +s $(cygpath -w `dirname "$x"`)/`basename "$x"`
        done
    fi
